<html>
    <head>
      <meta charset="UTF-8">
      <title>API Documentation</title>
      <style>
        body { font-family: Arial, sans-serif; line-height: 1.6; margin: 20px; }
        h1, h2, h3 { color: #333; }
        table { border-collapse: collapse; width: 100%; }
        th, td { border: 1px solid #ccc; padding: 8px; text-align: left; }
        th { background-color: #f4f4f4; }
        pre { background: #f4f4f4; padding: 10px; }
      </style>
    </head>
    <body>
      <h1>Tài liệu API Zalo Server</h1>
      <h2>Mục lục</h2>
      <ol>
        <li><a href="#findUser">findUser</a></li>
        <li><a href="#getUserInfo">getUserInfo</a></li>
        <li><a href="#sendFriendRequest">sendFriendRequest</a></li>
        <li><a href="#sendMessage">sendMessage</a></li>
        <li><a href="#createGroup">createGroup</a></li>
        <li><a href="#getGroupInfo">getGroupInfo</a></li>
        <li><a href="#addUserToGroup">addUserToGroup</a></li>
        <li><a href="#removeUserFromGroup">removeUserFromGroup</a></li>
        <li><a href="#sendImageToUser">sendImageToUser</a></li>
        <li><a href="#sendImagesToUser">sendImagesToUser</a></li>
        <li><a href="#sendImageToGroup">sendImageToGroup</a></li>
        <li><a href="#sendImagesToGroup">sendImagesToGroup</a></li>
        <li><a href="#accounts">accounts</a></li>
      </ol>

      <hr/>

      <h3 id="findUser">1. findUser</h3>
      <p><strong>Mục đích:</strong> Tìm kiếm người dùng dựa trên số điện thoại.</p>
      <p><strong>Endpoint:</strong> POST /findUser</p>
      <p><strong>Parameters:</strong></p>
      <table>
        <tr><th>Field</th><th>Loại</th><th>Mô tả</th><th>Bắt buộc</th></tr>
        <tr><td>phone</td><td>string</td><td>Số điện thoại của người dùng.</td><td>Có</td></tr>
        <tr><td>accountIndex</td><td>number</td><td>Chỉ số tài khoản (mặc định 0).</td><td>Không</td></tr>
      </table>
      <p><strong>Ví dụ:</strong></p>
      <pre>
{
  "phone": "0123456789",
  "accountIndex": 0
}
      </pre>
      <p><strong>Ví dụ curl:</strong></p>
      <pre>
curl -X POST -H "Content-Type: application/json" -d '{
  "phone": "0123456789",
  "accountIndex": 0
}' http://localhost:3000/findUser
      </pre>

      <hr/>

      <h3 id="getUserInfo">2. getUserInfo</h3>
      <p><strong>Mục đích:</strong> Lấy thông tin chi tiết của một người dùng.</p>
      <p><strong>Endpoint:</strong> POST /getUserInfo</p>
      <table>
        <tr><th>Field</th><th>Loại</th><th>Mô tả</th><th>Bắt buộc</th></tr>
        <tr><td>userId</td><td>string</td><td>ID của người dùng.</td><td>Có</td></tr>
        <tr><td>accountIndex</td><td>number</td><td>Chỉ số tài khoản (mặc định 0).</td><td>Không</td></tr>
      </table>
      <pre>
{
  "userId": "0000000000000000001",
  "accountIndex": 0
}
      </pre>
      <p><strong>Ví dụ curl:</strong></p>
      <pre>
curl -X POST -H "Content-Type: application/json" -d '{
  "userId": "0000000000000000001",
  "accountIndex": 0
}' http://localhost:3000/getUserInfo
      </pre>

      <hr/>

      <h3 id="sendFriendRequest">3. sendFriendRequest</h3>
      <p><strong>Mục đích:</strong> Gửi lời mời kết bạn đến người dùng.</p>
      <p><strong>Endpoint:</strong> POST /sendFriendRequest</p>
      <table>
        <tr><th>Field</th><th>Loại</th><th>Mô tả</th><th>Bắt buộc</th></tr>
        <tr><td>userId</td><td>string</td><td>ID của người dùng nhận lời mời.</td><td>Có</td></tr>
        <tr><td>accountIndex</td><td>number</td><td>Chỉ số tài khoản (mặc định 0).</td><td>Không</td></tr>
      </table>
      <pre>
{
  "userId": "0000000000000000002",
  "accountIndex": 0
}
      </pre>
      <p><strong>Ví dụ curl:</strong></p>
      <pre>
curl -X POST -H "Content-Type: application/json" -d '{
  "userId": "0000000000000000002",
  "accountIndex": 0
}' http://localhost:3000/sendFriendRequest
      </pre>

      <hr/>

      <h3 id="sendMessage">4. sendMessage</h3>
      <p><strong>Mục đích:</strong> Gửi tin nhắn văn bản đến người dùng hoặc nhóm.</p>
      <p><strong>Endpoint:</strong> POST /sendmessage</p>
      <table>
        <tr><th>Field</th><th>Loại</th><th>Mô tả</th><th>Bắt buộc</th></tr>
        <tr><td>message</td><td>string | Object</td><td>Nội dung tin nhắn hoặc object MessageContent.</td><td>Có</td></tr>
        <tr><td>threadId</td><td>string</td><td>ID của người dùng/nhóm.</td><td>Có</td></tr>
        <tr><td>type</td><td>string</td><td>Loại thread ("User" hoặc "Group").</td><td>Không</td></tr>
        <tr><td>accountIndex</td><td>number</td><td>Chỉ số tài khoản (mặc định 0).</td><td>Không</td></tr>
      </table>
      <pre>
{
  "message": "Xin chào",
  "threadId": "0000000000000000001",
  "type": "User",
  "accountIndex": 0
}
      </pre>
      <p><strong>Ví dụ curl:</strong></p>
      <pre>
curl -X POST -H "Content-Type: application/json" -d '{
  "message": "Xin chào",
  "threadId": "0000000000000000001",
  "type": "User",
  "accountIndex": 0
}' http://localhost:3000/sendmessage
      </pre>
      <p><strong>Ví dụ curl:</strong></p>
      <pre>
curl -X POST -H "Content-Type: application/json" -d '{
  "members": ["0000000000000000002", "0000000000000000003"],
  "name": "Nhóm Mới",
  "avatarPath": "./avatar.jpg",
  "accountIndex": 0
}' http://localhost:3000/createGroup
      </pre>

      <hr/>

      <h3 id="createGroup">5. createGroup</h3>
      <p><strong>Mục đích:</strong> Tạo một nhóm mới.</p>
      <p><strong>Endpoint:</strong> POST /createGroup</p>
      <table>
        <tr><th>Field</th><th>Loại</th><th>Mô tả</th><th>Bắt buộc</th></tr>
        <tr><td>members</td><td>string[]</td><td>Mảng ID các thành viên (không bao gồm bản thân).</td><td>Có</td></tr>
        <tr><td>name</td><td>string</td><td>Tên của nhóm.</td><td>Không</td></tr>
        <tr><td>avatarPath</td><td>string</td><td>Đường dẫn ảnh nhóm.</td><td>Không</td></tr>
        <tr><td>accountIndex</td><td>number</td><td>Chỉ số tài khoản (mặc định 0).</td><td>Không</td></tr>
      </table>
      <pre>
{
  "members": ["0000000000000000002", "0000000000000000003"],
  "name": "Nhóm Mới",
  "avatarPath": "./avatar.jpg",
  "accountIndex": 0
}
      </pre>
      <p><strong>Ví dụ curl:</strong></p>
      <pre>
curl -X POST -H "Content-Type: application/json" -d '{
  "groupId": "0000000000000000000",
  "accountIndex": 0
}' http://localhost:3000/getGroupInfo
      </pre>

      <hr/>

      <h3 id="getGroupInfo">6. getGroupInfo</h3>
      <p><strong>Mục đích:</strong> Lấy thông tin chi tiết của các nhóm.</p>
      <p><strong>Endpoint:</strong> POST /getGroupInfo</p>
      <table>
        <tr><th>Field</th><th>Loại</th><th>Mô tả</th><th>Bắt buộc</th></tr>
        <tr><td>groupId</td><td>string | string[]</td><td>ID của nhóm hoặc mảng các ID.</td><td>Có</td></tr>
        <tr><td>accountIndex</td><td>number</td><td>Chỉ số tài khoản (mặc định 0).</td><td>Không</td></tr>
      </table>
      <pre>
{
  "groupId": "0000000000000000000",
  "accountIndex": 0
}
      </pre>
      <p><strong>Ví dụ curl:</strong></p>
      <pre>
curl -X POST -H "Content-Type: application/json" -d '{
  "groupId": "0000000000000000000",
  "memberId": ["0000000000000000001", "0000000000000000002"],
  "accountIndex": 0
}' http://localhost:3000/addUserToGroup
      </pre>
      <p><strong>Ví dụ curl:</strong></p>
      <pre>
curl -X POST -H "Content-Type: application/json" -d '{
  "groupId": "0000000000000000000",
  "memberId": ["0000000000000000001", "0000000000000000002"],
  "accountIndex": 0
}' http://localhost:3000/removeUserFromGroup
      </pre>

      <hr/>

      <h3 id="addUserToGroup">7. addUserToGroup</h3>
      <p><strong>Mục đích:</strong> Thêm thành viên vào nhóm.</p>
      <p><strong>Endpoint:</strong> POST /addUserToGroup</p>
      <table>
        <tr><th>Field</th><th>Loại</th><th>Mô tả</th><th>Bắt buộc</th></tr>
        <tr><td>groupId</td><td>string</td><td>ID của nhóm.</td><td>Có</td></tr>
        <tr><td>memberId</td><td>string | string[]</td><td>ID của thành viên (hoặc mảng ID) cần thêm.</td><td>Có</td></tr>
        <tr><td>accountIndex</td><td>number</td><td>Chỉ số tài khoản (mặc định 0).</td><td>Không</td></tr>
      </table>
      <pre>
{
  "groupId": "0000000000000000000",
  "memberId": ["0000000000000000001", "0000000000000000002"],
  "accountIndex": 0
}
      </pre>
      <p><strong>Ví dụ curl:</strong></p>
      <pre>
curl -X POST -H "Content-Type: application/json" -d '{
  "imagePath": "./path/to/image.jpg",
  "threadId": "0000000000000000001",
  "accountIndex": 0
}' http://localhost:3000/sendImageToUser
      </pre>
      <p><strong>Ví dụ curl:</strong></p>
      <pre>
curl -X POST -H "Content-Type: application/json" -d '{
  "imagePaths": ["./path/to/image1.jpg", "./path/to/image2.jpg"],
  "threadId": "0000000000000000001",
  "accountIndex": 0
}' http://localhost:3000/sendImagesToUser
      </pre>

      <hr/>

      <h3 id="removeUserFromGroup">8. removeUserFromGroup</h3>
      <p><strong>Mục đích:</strong> Xóa thành viên khỏi nhóm.</p>
      <p><strong>Endpoint:</strong> POST /removeUserFromGroup</p>
      <table>
        <tr><th>Field</th><th>Loại</th><th>Mô tả</th><th>Bắt buộc</th></tr>
        <tr><td>groupId</td><td>string</td><td>ID của nhóm.</td><td>Có</td></tr>
        <tr><td>memberId</td><td>string | string[]</td><td>ID của thành viên (hoặc mảng ID) cần xóa.</td><td>Có</td></tr>
        <tr><td>accountIndex</td><td>number</td><td>Chỉ số tài khoản (mặc định 0).</td><td>Không</td></tr>
      </table>
      <pre>
{
  "groupId": "0000000000000000000",
  "memberId": ["0000000000000000001", "0000000000000000002"],
  "accountIndex": 0
}
      </pre>
      <p><strong>Ví dụ curl:</strong></p>
      <pre>
curl -X POST -H "Content-Type: application/json" -d '{
  "imagePath": "./path/to/group-image.jpg",
  "threadId": "0000000000000000000",
  "accountIndex": 0
}' http://localhost:3000/sendImageToGroup
      </pre>
      <p><strong>Ví dụ curl:</strong></p>
      <pre>
curl -X POST -H "Content-Type: application/json" -d '{
  "imagePaths": ["./path/to/group-image1.jpg", "./path/to/group-image2.jpg"],
  "threadId": "0000000000000000000",
  "accountIndex": 0
}' http://localhost:3000/sendImagesToGroup
      </pre>

      <hr/>

      <h3 id="sendImageToUser">9. sendImageToUser</h3>
      <p><strong>Mục đích:</strong> Gửi một hình ảnh đến người dùng.</p>
      <p><strong>Endpoint:</strong> POST /sendImageToUser</p>
      <table>
        <tr><th>Field</th><th>Loại</th><th>Mô tả</th><th>Bắt buộc</th></tr>
        <tr><td>imagePath</td><td>string</td><td>Đường dẫn đến hình ảnh cần gửi.</td><td>Có</td></tr>
        <tr><td>threadId</td><td>string</td><td>ID của người dùng nhận tin nhắn.</td><td>Có</td></tr>
        <tr><td>accountIndex</td><td>number</td><td>Chỉ số tài khoản (mặc định 0).</td><td>Không</td></tr>
      </table>
      <pre>
{
  "imagePath": "./path/to/image.jpg",
  "threadId": "0000000000000000001",
  "accountIndex": 0
}
      </pre>

      <hr/>

      <h3 id="sendImagesToUser">10. sendImagesToUser</h3>
      <p><strong>Mục đích:</strong> Gửi nhiều hình ảnh đến người dùng.</p>
      <p><strong>Endpoint:</strong> POST /sendImagesToUser</p>
      <table>
        <tr><th>Field</th><th>Loại</th><th>Mô tả</th><th>Bắt buộc</th></tr>
        <tr><td>imagePaths</td><td>string[]</td><td>Mảng đường dẫn hình ảnh.</td><td>Có</td></tr>
        <tr><td>threadId</td><td>string</td><td>ID của người dùng nhận tin nhắn.</td><td>Có</td></tr>
        <tr><td>accountIndex</td><td>number</td><td>Chỉ số tài khoản (mặc định 0).</td><td>Không</td></tr>
      </table>
      <pre>
{
  "imagePaths": ["./path/to/image1.jpg", "./path/to/image2.jpg"],
  "threadId": "0000000000000000001",
  "accountIndex": 0
}
      </pre>

      <hr/>

      <h3 id="sendImageToGroup">11. sendImageToGroup</h3>
      <p><strong>Mục đích:</strong> Gửi một hình ảnh đến nhóm.</p>
      <p><strong>Endpoint:</strong> POST /sendImageToGroup</p>
      <table>
        <tr><th>Field</th><th>Loại</th><th>Mô tả</th><th>Bắt buộc</th></tr>
        <tr><td>imagePath</td><td>string</td><td>Đường dẫn đến hình ảnh cần gửi.</td><td>Có</td></tr>
        <tr><td>threadId</td><td>string</td><td>ID của nhóm nhận tin nhắn.</td><td>Có</td></tr>
        <tr><td>accountIndex</td><td>number</td><td>Chỉ số tài khoản (mặc định 0).</td><td>Không</td></tr>
      </table>
      <pre>
{
  "imagePath": "./path/to/group-image.jpg",
  "threadId": "0000000000000000000",
  "accountIndex": 0
}
      </pre>

      <hr/>

      <h3 id="sendImagesToGroup">12. sendImagesToGroup</h3>
      <p><strong>Mục đích:</strong> Gửi nhiều hình ảnh đến nhóm.</p>
      <p><strong>Endpoint:</strong> POST /sendImagesToGroup</p>
      <table>
        <tr><th>Field</th><th>Loại</th><th>Mô tả</th><th>Bắt buộc</th></tr>
        <tr><td>imagePaths</td><td>string[]</td><td>Mảng đường dẫn hình ảnh.</td><td>Có</td></tr>
        <tr><td>threadId</td><td>string</td><td>ID của nhóm nhận tin nhắn.</td><td>Có</td></tr>
        <tr><td>accountIndex</td><td>number</td><td>Chỉ số tài khoản (mặc định 0).</td><td>Không</td></tr>
      </table>
      <pre>
{
  "imagePaths": ["./path/to/group-image1.jpg", "./path/to/group-image2.jpg"],
  "threadId": "0000000000000000000",
  "accountIndex": 0
}
      </pre>

      <hr/>

      <h3 id="accounts">13. accounts</h3>
      <p><strong>Mục đích:</strong> Lấy danh sách tài khoản đã đăng nhập.</p>
      <p><strong>Endpoint:</strong> GET /accounts</p>
      <p><strong>Response:</strong></p>
      <pre>
// Nếu có tài khoản đã đăng nhập:
[
  {
    "ownId": "0000000000000000001",
    "proxy": "http://proxy.example.com"
  },
  {
    "ownId": "0000000000000000002",
    "proxy": null
  }
]

// Nếu chưa có tài khoản nào đăng nhập:
{
  "success": true,
  "message": "Chưa có tài khoản nào đăng nhập"
}
      </pre>
      <p><strong>Ví dụ curl:</strong></p>
      <pre>
curl http://localhost:3000/accounts
      </pre>

    </body>
  </html>