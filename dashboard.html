<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Zalo API Dashboard</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css">
    <style>
        :root {
            --zalo-blue: #0068ff;
            --zalo-light-blue: #e5efff;
            --zalo-dark-blue: #004bb9;
            --zalo-green: #26cd85;
            --zalo-purple: #6831e5;
            --gradient-primary: linear-gradient(135deg, var(--zalo-blue), #3786ff);
            --gradient-secondary: linear-gradient(135deg, #6c757d, #495057);
            --gradient-success: linear-gradient(135deg, var(--zalo-green), #1da462);
            --gradient-info: linear-gradient(135deg, #0dcaf0, #055160);
            --gradient-warning: linear-gradient(135deg, #ffc107, #cc9a06);
            --gradient-purple: linear-gradient(135deg, var(--zalo-purple), #4a0ebe);
            --shadow-sm: 0 2px 8px rgba(0,0,0,0.05);
            --shadow-md: 0 5px 15px rgba(0,0,0,0.08);
            --shadow-lg: 0 10px 25px rgba(0,0,0,0.1);
            --radius-sm: 8px;
            --radius-md: 12px;
            --radius-lg: 16px;
        }

        body {
            background-color: #f8faff;
            min-height: 100vh;
            font-family: 'Segoe UI', Roboto, 'Helvetica Neue', sans-serif;
            color: #333;
            padding-bottom: 30px;
        }

        .navbar {
            background: var(--gradient-primary) !important;
            box-shadow: var(--shadow-md);
            padding: 15px 0;
        }

        .navbar-brand {
            font-weight: 700;
            font-size: 1.5rem;
            color: white;
        }

        .navbar-brand:hover {
            color: white;
            opacity: 0.9;
        }

        .navbar-brand .zalo-icon {
            width: 32px;
            height: 32px;
            margin-right: 8px;
            display: inline-block;
            vertical-align: middle;
            filter: drop-shadow(0 1px 2px rgba(0,0,0,0.2));
        }

        .nav-link {
            font-weight: 500;
            transition: all 0.3s ease;
            color: rgba(255,255,255,0.85) !important;
            padding: 10px 18px;
            border-radius: var(--radius-sm);
            margin: 0 3px;
            position: relative;
        }

        .nav-link:hover {
            color: white !important;
            background-color: rgba(255,255,255,0.15);
            transform: translateY(-1px);
        }

        .nav-link.active {
            color: white !important;
            background-color: rgba(255,255,255,0.2);
            font-weight: 600;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
        }

        .nav-link.active::after {
            content: '';
            position: absolute;
            bottom: 5px;
            left: 50%;
            transform: translateX(-50%);
            width: 20px;
            height: 3px;
            background-color: rgba(255, 255, 255, 0.7);
            border-radius: 3px;
        }

        .welcome-text {
            color: white;
            margin-right: 15px;
            font-weight: 500;
            text-shadow: 0 1px 2px rgba(0,0,0,0.15);
        }

        .content-container {
            margin-top: 30px;
        }

        .card {
            border: none;
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow-md);
            margin-bottom: 25px;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            overflow: hidden;
            background-color: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-lg);
        }

        .card-header {
            border-radius: var(--radius-lg) var(--radius-lg) 0 0 !important;
            padding: 1.35rem;
            border: none;
            display: flex;
            align-items: center;
            color: white;
            font-weight: 600;
        }

        .card-header .header-icon {
            margin-right: 12px;
            font-size: 1.2rem;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: rgba(255,255,255,0.2);
            border-radius: 50%;
            padding: 18px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
        }

        .card-header h5 {
            margin-bottom: 0;
            font-weight: 600;
            font-size: 1.25rem;
        }

        .card-header.bg-primary {
            background: var(--gradient-primary) !important;
        }

        .card-header.bg-success {
            background: var(--gradient-success) !important;
        }

        .card-header.bg-info {
            background: var(--gradient-info) !important;
        }

        .card-header.bg-warning {
            background: var(--gradient-warning) !important;
        }

        .card-header.bg-secondary {
            background: var(--gradient-secondary) !important;
        }

        .card-header.bg-purple {
            background: var(--gradient-purple) !important;
        }

        .card-body {
            padding: 1.75rem;
        }

        .btn {
            padding: 0.7rem 1.75rem;
            border-radius: var(--radius-md);
            font-weight: 500;
            transition: all 0.3s ease;
            box-shadow: 0 3px 6px rgba(0,0,0,0.1);
            position: relative;
            overflow: hidden;
            letter-spacing: 0.3px;
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.7s;
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 12px rgba(0,0,0,0.15);
        }

        .btn:hover::before {
            left: 100%;
        }

        .btn:active {
            transform: translateY(-1px);
        }

        .btn-primary {
            background: var(--zalo-blue);
            border-color: var(--zalo-blue);
        }

        .btn-primary:hover {
            background: var(--zalo-dark-blue);
            border-color: var(--zalo-dark-blue);
        }

        .btn-danger {
            background: #dc3545;
            border-color: #dc3545;
        }

        .btn-success {
            background: var(--zalo-green);
            border-color: var(--zalo-green);
        }

        .btn-outline-light {
            border-color: rgba(255,255,255,0.6);
        }

        .btn-outline-light:hover {
            background-color: rgba(255,255,255,0.15);
            border-color: white;
        }

        .form-control {
            border-radius: var(--radius-md);
            padding: 0.75rem 1rem;
            border: 2px solid #e9ecef;
            font-size: 0.95rem;
            transition: all 0.3s ease;
            box-shadow: 0 2px 6px rgba(0,0,0,0.03);
        }

        .form-control:focus {
            border-color: var(--zalo-blue);
            box-shadow: 0 0 0 0.25rem rgba(0, 104, 255, 0.15);
            transform: translateY(-2px);
        }

        .form-select {
            border-radius: var(--radius-md);
            padding: 0.75rem 1rem;
            border: 2px solid #e9ecef;
            font-size: 0.95rem;
            box-shadow: 0 2px 6px rgba(0,0,0,0.03);
        }

        .form-select:focus {
            border-color: var (--zalo-blue);
            box-shadow: 0 0 0 0.25rem rgba(0, 104, 255, 0.15);
            transform: translateY(-2px);
        }

        .result-area {
            max-height: 300px;
            overflow-y: auto;
            background: white;
            padding: 15px;
            border-radius: var(--radius-md);
            border: 2px solid #eee;
            margin-top: 15px;
        }

        pre.json {
            background: #f8f9fa;
            padding: 15px;
            border-radius: var(--radius-md);
            border: 2px solid #eee;
            max-height: 300px;
            overflow-y: auto;
            font-size: 0.9rem;
        }

        .nav-tabs {
            border-bottom: 3px solid rgba(13, 110, 253, 0.2);
            margin-bottom: 30px;
            gap: 4px;
            flex-wrap: nowrap;
            overflow-x: auto;
            scrollbar-width: none;
            padding: 5px 0;
        }

        .nav-tabs::-webkit-scrollbar {
            display: none;
        }

        .nav-tabs .nav-link {
            border: none;
            color: #333;
            font-weight: 600;
            padding: 0.9rem 1.75rem;
            position: relative;
            border-radius: var(--radius-sm);
            background-color: #f0f5ff;
            min-width: 150px;
            text-align: center;
            margin-bottom: -2px;
            white-space: nowrap;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
            transition: all 0.3s ease;
            border: 1px solid rgba(0,104,255,0.1);
        }

        .nav-tabs .nav-link i {
            margin-right: 8px;
            color: var(--zalo-blue);
        }

        .nav-tabs .nav-link:hover {
            background-color: #e0ecff;
            color: var(--zalo-blue) !important;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,104,255,0.15);
        }

        .nav-tabs .nav-link.active {
            color: white !important;
            background: var(--gradient-primary);
            border: none;
            box-shadow: 0 4px 10px rgba(0,104,255,0.3);
        }

        .nav-tabs .nav-link.active i {
            color: white;
        }

        .nav-tabs .nav-link.active:after {
            transform: scaleX(0);
        }

        .nav-tabs .nav-item:nth-child(1) .nav-link:not(.active) {
            color: #0068ff;
            background-color: rgba(0, 104, 255, 0.1);
        }

        .nav-tabs .nav-item:nth-child(2) .nav-link:not(.active) {
            color: #26cd85;
            background-color: rgba(38, 205, 133, 0.1);
        }

        .nav-tabs .nav-item:nth-child(3) .nav-link:not(.active) {
            color: #ffc107;
            background-color: rgba(255, 193, 7, 0.1);
        }

        .nav-tabs .nav-item:nth-child(4) .nav-link:not(.active) {
            color: #6831e5;
            background-color: rgba(104, 49, 229, 0.1);
        }

        .tab-content {
            padding: 20px 0;
        }

        .table {
            background: white;
            border-radius: var(--radius-md);
            overflow: hidden;
            box-shadow: var(--shadow-sm);
        }

        .table thead th {
            background: var(--zalo-blue);
            color: white;
            font-weight: 500;
            border: none;
            padding: 14px 18px;
            vertical-align: middle;
        }

        .table tbody td {
            padding: 14px 18px;
            vertical-align: middle;
            border-bottom: 1px solid rgba(0,0,0,0.05);
        }

        .table tbody tr:last-child td {
            border-bottom: none;
        }

        .table tbody tr {
            transition: background-color 0.2s;
        }

        .table tbody tr:hover {
            background-color: rgba(0,104,255,0.03);
        }

        .endpoint-template {
            display: none;
        }

        /* Custom scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }

        ::-webkit-scrollbar-track {
            background: #f5f7fa;
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb {
            background: #c1c9d6;
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #a0aec0;
        }

        .current-account-card {
            background: white;
            border-radius: var(--radius-lg);
            padding: 20px;
            box-shadow: var(--shadow-md);
            margin-bottom: 30px;
            border-left: 5px solid var(--zalo-blue);
        }

        .alert-info {
            background-color: var(--zalo-light-blue);
            color: var(--zalo-dark-blue);
            border: none;
            border-radius: var(--radius-md);
            padding: 15px;
        }

        .alert-success {
            background-color: rgba(38, 205, 133, 0.1);
            color: var(--zalo-green);
            border: none;
            border-radius: var(--radius-md);
            padding: 15px;
        }

        .alert-danger {
            background-color: rgba(220, 53, 69, 0.1);
            color: #dc3545;
            border: none;
            border-radius: var(--radius-md);
            padding: 15px;
        }

        .alert-warning {
            background-color: rgba(255, 193, 7, 0.1);
            color: #cc9a06;
            border: none;
            border-radius: var(--radius-md);
            padding: 15px;
        }

        .badge {
            padding: 6px 12px;
            border-radius: 20px;
            font-weight: 500;
            font-size: 0.75rem;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            letter-spacing: 0.5px;
        }

        .badge-primary {
            background-color: var(--zalo-blue);
        }

        .badge-success {
            background-color: var(--zalo-green);
        }

        .navbar-user {
            display: flex;
            align-items: center;
        }

        .navbar-avatar {
            width: 38px;
            height: 38px;
            border-radius: 50%;
            margin-right: 10px;
            background-color: rgba(255,255,255,0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 500;
            box-shadow: 0 3px 8px rgba(0,0,0,0.15);
            border: 2px solid rgba(255,255,255,0.3);
        }

        /* Dashboard stats section */
        .stats-card {
            padding: 20px;
            border-radius: var(--radius-md);
            box-shadow: var(--shadow-sm);
            text-align: center;
            margin-bottom: 20px;
            transition: all 0.3s;
            border-bottom: 3px solid transparent;
            background-color: white;
        }

        .stats-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-md);
        }

        .stats-card.primary {
            border-color: var(--zalo-blue);
        }

        .stats-card.success {
            border-color: var(--zalo-green);
        }

        .stats-card.purple {
            border-color: var(--zalo-purple);
        }

        .stats-card.warning {
            border-color: #ffc107;
        }

        .stats-card .stats-icon {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 15px;
            font-size: 1.5rem;
            color: white;
        }

        .stats-card .stats-icon.primary {
            background: var(--gradient-primary);
            box-shadow: 0 5px 15px rgba(0, 104, 255, 0.3);
        }

        .stats-card .stats-icon.success {
            background: var(--gradient-success);
            box-shadow: 0 5px 15px rgba(38, 205, 133, 0.3);
        }

        .stats-card .stats-icon.purple {
            background: var(--gradient-purple);
            box-shadow: 0 5px 15px rgba(104, 49, 229, 0.3);
        }

        .stats-card .stats-icon.warning {
            background: var(--gradient-warning);
            box-shadow: 0 5px 15px rgba(255, 193, 7, 0.3);
        }

        .stats-card .stats-value {
            font-size: 1.75rem;
            font-weight: 700;
            margin-bottom: 5px;
            color: #333;
        }

        .stats-card .stats-label {
            font-size: 0.9rem;
            color: #6c757d;
            font-weight: 500;
            text-transform: uppercase;
        }

        .input-group-text {
            background-color: #f8f9fa;
            border: 2px solid #e9ecef;
            border-right: none;
            border-radius```html
<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Zalo API Dashboard</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css">
    <style>
        /* ... existing styles ... */
    </style>
</head>
<body>
    <!-- ... existing content ... -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="/js/dashboard.js"></script>
    <script>
        // Custom handling of result areas - show them only when there's content
        document.addEventListener('DOMContentLoaded', function() {
            const resultAreas = document.querySelectorAll('.result-area');
            
            // Function to check if a result area has content
            function checkResultContent(element) {
                if (element.innerHTML.trim() !== '') {
                    element.style.display = 'block';
                } else {
                    element.style.display = 'none';
                }
            }
            
            // Setup mutation observers for all result areas
            resultAreas.forEach(area => {
                const observer = new MutationObserver(() => checkResultContent(area));
                observer.observe(area, { childList: true, subtree: true, characterData: true });
                
                // Initial check
                checkResultContent(area);
            });
        });
        
        // Add event listeners for buttons
        document.addEventListener('DOMContentLoaded', function() {
            const buttons = document.querySelectorAll('button');
            buttons.forEach(button => {
                button.addEventListener('click', function(event) {
                    // Prevent default button behavior
                    event.preventDefault();
                    
                    // Call the button's onclick function
                    if (button.onclick) {
                        button.onclick();
                    }
                });
            });
        });
    </script>
</body>
</html>
```: var(--radius-md) 0 0 var(--radius-md);
        }

        .input-group .form-control {
            border-radius: 0 var(--radius-md) var(--radius-md) 0;
        }

        .input-group .btn {
            border-radius: 0 var(--radius-md) var(--radius-md) 0;
        }

        /* Animation */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(0,104,255,0.4); }
            70% { box-shadow: 0 0 0 10px rgba(0,104,255,0); }
            100% { box-shadow: 0 0 0 0 rgba(0,104,255,0); }
        }

        .fade-in {
            animation: fadeIn 0.5s ease-out forwards;
        }

        .pulse {
            animation: pulse 2s infinite;
        }

        /* Responsive media queries */
        @media (max-width: 992px) {
            .navbar-user {
                margin-top: 15px;
                flex-direction: column;
                align-items: flex-start;
                gap: 10px;
            }

            .welcome-text {
                margin-right: 0;
                margin-bottom: 10px;
            }
        }

        @media (max-width: 768px) {
            .nav-tabs .nav-link {
                padding: 0.75rem 1rem;
                min-width: 120px;
            }
            
            .card-header {
                padding: 1rem;
            }
            
            .card-header .header-icon {
                padding: 15px;
            }
        }

        /* Footer styling */
        .footer {
            background: white;
            text-align: center;
            padding: 30px 0;
            margin-top: 50px;
            border-top: 1px solid #eaeaea;
            color: #6c757d;
            font-size: 0.9rem;
        }

        .footer a {
            color: var(--zalo-blue);
            text-decoration: none;
        }

        .footer a:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark mb-4">
        <div class="container">
            <a class="navbar-brand" href="/">
                <!-- Zalo Icon -->
                <svg class="zalo-icon" viewBox="0 0 50 50" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M22.782 0.166016H27.199C33.2653 0.166016 36.8103 1.05701 39.9572 2.74421C43.1041 4.4314 45.5875 6.89585 47.2557 10.0428C48.9429 13.1897 49.8339 16.7347 49.8339 22.801V27.1991C49.8339 33.2654 48.9429 36.8104 47.2557 39.9573C45.5685 43.1042 43.1041 45.5877 39.9572 47.2559C36.8103 48.9431 33.2653 49.8341 27.199 49.8341H22.8009C16.7346 49.8341 13.1896 48.9431 10.0427 47.2559C6.89583 45.5687 4.41243 43.1042 2.7442 39.9573C1.057 36.8104 0.166016 33.2654 0.166016 27.1991V22.801C0.166016 16.7347 1.057 13.1897 2.7442 10.0428C4.43139 6.89585 6.89583 4.41245 10.0427 2.74421C13.1707 1.05701 16.7346 0.166016 22.782 0.166016Z" fill="white"/>
                    <path opacity="0.12" fill-rule="evenodd" clip-rule="evenodd" d="M49.8336 26.4736V27.1994C49.8336 33.2657 48.9427 36.8107 47.2555 39.9576C45.5683 43.1045 43.1038 45.5879 39.9569 47.2562C36.81 48.9434 33.265 49.8344 27.1987 49.8344H22.8007C17.8369 49.8344 14.5612 49.2378 11.8104 48.0966L7.27539 43.4267L49.8336 26.4736Z" fill="white"/>
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M7.779 43.5892C10.1019 43.846 13.0061 43.1836 15.0682 42.1825C24.0225 47.1318 38.0197 46.8954 46.4923 41.4732C46.8209 40.9803 47.1279 40.4677 47.4128 39.9363C49.1062 36.7779 50.0004 33.22 50.0004 27.1316V22.7175C50.0004 16.629 49.1062 13.0711 47.4128 9.91273C45.7385 6.75436 43.2461 4.28093 40.0877 2.58758C36.9293 0.894239 33.3714 0 27.283 0H22.8499C17.6644 0 14.2982 0.652754 11.4699 1.89893C11.3153 2.03737 11.1636 2.17818 11.0151 2.32135C2.71734 10.3203 2.08658 27.6593 9.12279 37.0782C9.13064 37.0921 9.13933 37.1061 9.14889 37.1203C10.2334 38.7185 9.18694 41.5154 7.55068 43.1516C7.28431 43.399 7.37944 43.5512 7.779 43.5892Z" fill="#333"/>
                    <path d="M20.5632 17H10.8382V19.0853H17.5869L10.9329 27.3317C10.7244 27.635 10.5728 27.9194 10.5728 28.5639V29.0947H19.748C20.203 29.0947 20.5822 28.7156 20.5822 28.2606V27.1421H13.4922L19.748 19.2938C19.8428 19.1801 20.0134 18.9716 20.0893 18.8768L20.1272 18.8199C20.4874 18.2891 20.5632 17.8341 20.5632 17.2844V17Z" fill="white"/>
                    <path d="M32.9416 29.0947H34.3255V17H32.2402V28.3933C32.2402 28.7725 32.5435 29.0947 32.9416 29.0947Z" fill="white"/>
                    <path d="M25.814 19.6924C23.1979 19.6924 21.0747 21.8156 21.0747 24.4317C21.0747 27.0478 23.1979 29.171 25.814 29.171C28.4301 29.171 30.5533 27.0478 30.5533 24.4317C30.5723 21.8156 28.4491 19.6924 25.814 19.6924ZM25.814 27.2184C24.2785 27.2184 23.0273 25.9672 23.0273 24.4317C23.0273 22.8962 24.2785 21.645 25.814 21.645C27.3495 21.645 28.6007 22.8962 28.6007 24.4317C28.6007 25.9672 27.3685 27.2184 25.814 27.2184Z" fill="white"/>
                    <path d="M40.4867 19.6162C37.8516 19.6162 35.7095 21.7584 35.7095 24.3934C35.7095 27.0285 37.8516 29.1707 40.4867 29.1707C43.1217 29.1707 45.2639 27.0285 45.2639 24.3934C45.2639 21.7584 43.1217 19.6162 40.4867 19.6162ZM40.4867 27.2181C38.9322 27.2181 37.681 25.9669 37.681 24.4124C37.681 22.8579 38.9322 21.6067 40.4867 21.6067C42.0412 21.6067 43.2924 22.8579 43.2924 24.4124C43.2924 25.9669 42.0412 27.2181 40.4867 27.2181Z" fill="white"/>
                    <path d="M29.4562 29.0944H30.5747V19.957H28.6221V28.2793C28.6221 28.7153 29.0012 29.0944 29.4562 29.0944Z" fill="white"/>
                </svg>
                Zalo API Dashboard
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav me-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="/zalo-login">
                            <i class="fas fa-qrcode me-1"></i>Login QR
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/accounts">
                            <i class="fas fa-users me-1"></i>Tài khoản
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" href="/dashboard">
                            <i class="fas fa-columns me-1"></i>Dashboard
                        </a>
                    </li>
                </ul>
                <div class="navbar-user">
                    <div class="navbar-avatar">
                        <i class="fas fa-user"></i>
                    </div>
                    <span class="welcome-text" id="welcomeMessage">Xin chào</span>
                    <button class="btn btn-outline-light btn-sm" onclick="logout()">
                        <i class="fas fa-sign-out-alt me-1"></i>Đăng xuất
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <div class="container content-container">
        <!-- Current Account Section -->
        <div class="row mb-4 fade-in">
            <div class="col-12">
                <div class="card">
                    <div class="card-header bg-info">
                        <div class="header-icon">
                            <i class="fas fa-id-card"></i>
                        </div>
                        <h5>Tài khoản đang sử dụng</h5>
                    </div>
                    <div class="card-body" id="currentAccount">
                        <div class="alert alert-info mb-0">Chọn tài khoản để bắt đầu sử dụng</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Main Tabs -->
        <ul class="nav nav-tabs" id="apiTabs" role="tablist">
            <li class="nav-item" role="presentation">
                <button class="nav-link active" id="search-tab" data-bs-toggle="tab" data-bs-target="#search" type="button" role="tab">
                    <i class="fas fa-search me-2"></i>Tìm kiếm
                </button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="message-tab" data-bs-toggle="tab" data-bs-target="#message" type="button" role="tab">
                    <i class="fas fa-comment-alt me-2"></i>Tin nhắn
                </button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="accounts-tab" data-bs-toggle="tab" data-bs-target="#accounts" type="button" role="tab">
                    <i class="fas fa-users-cog me-2"></i>Quản lý tài khoản
                </button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="apitest-tab" data-bs-toggle="tab" data-bs-target="#apitest" type="button" role="tab">
                    <i class="fas fa-code me-2"></i>Test API
                </button>
            </li>
        </ul>

        <div class="tab-content fade-in">
            <!-- Tab Tìm kiếm -->
            <div class="tab-pane fade show active" id="search" role="tabpanel">
                <div class="card">
                    <div class="card-header bg-primary">
                        <div class="header-icon">
                            <i class="fas fa-search"></i>
                        </div>
                        <h5>Tìm người dùng qua số điện thoại</h5>
                    </div>
                    <div class="card-body">
                        <div class="mb-3">
                            <label for="phone" class="form-label fw-medium">Số điện thoại</label>
                            <div class="input-group">
                                <span class="input-group-text"><i class="fas fa-phone"></i></span>
                                <input type="text" class="form-control" id="phone" placeholder="Nhập số điện thoại (VD: 0912345678)">
                                <button class="btn btn-primary" onclick="findUser()">
                                    <i class="fas fa-search me-2"></i>Tìm kiếm
                                </button>
                            </div>
                        </div>
                        <div id="findUserResult" class="result-area" style="display: none;"></div>
                    </div>
                </div>
            </div>

            <!-- Tab Tin nhắn -->
            <div class="tab-pane fade" id="message" role="tabpanel">
                <!-- Gửi tin nhắn văn bản -->
                <div class="card">
                    <div class="card-header bg-success">
                        <div class="header-icon">
                            <i class="fas fa-comment-alt"></i>
                        </div>
                        <h5>Gửi tin nhắn văn bản</h5>
                    </div>
                    <div class="card-body">
                        <div class="mb-3">
                            <label class="form-label fw-medium">Phương thức nhận diện người nhận</label>
                            <select class="form-select mb-3" id="messageIdentifyMethod" onchange="toggleMessageInputFields()">
                                <option value="userId">Theo User ID</option>
                                <option value="phone">Theo số điện thoại</option>
                            </select>
                            
                            <label class="form-label fw-medium" id="messageThreadIdLabel">Thread ID người nhận</label>
                            <input type="text" class="form-control mb-3" id="messageThreadId" placeholder="Thread ID người nhận">
                            
                            <label class="form-label fw-medium" id="messagePhoneLabel" style="display: none;">Số điện thoại</label>
                            <input type="text" class="form-control mb-3" id="messagePhone" placeholder="Số điện thoại người nhận" style="display: none;">
                            
                            <label class="form-label fw-medium">Nội dung tin nhắn</label>
                            <textarea class="form-control" id="messageContent" rows="4" placeholder="Nhập nội dung tin nhắn..."></textarea>
                        </div>
                        <button class="btn btn-success" onclick="sendMessageUnified()">
                            <i class="fas fa-paper-plane me-2"></i>Gửi tin nhắn
                        </button>
                        <div id="sendMessageResult" class="result-area" style="display: none;"></div>
                    </div>
                </div>

                <!-- Gửi hình ảnh -->
                <div class="card mt-4">
                    <div class="card-header bg-info">
                        <div class="header-icon">
                            <i class="fas fa-image"></i>
                        </div>
                        <h5>Gửi hình ảnh</h5>
                    </div>
                    <div class="card-body">
                        <div class="mb-3">
                            <label class="form-label fw-medium">Phương thức nhận diện người nhận</label>
                            <select class="form-select mb-3" id="imageIdentifyMethod" onchange="toggleImageInputFields()">
                                <option value="userId">Theo User ID</option>
                                <option value="phone">Theo số điện thoại</option>
                            </select>
                            
                            <label class="form-label fw-medium" id="imageThreadIdLabel">Thread ID người nhận</label>
                            <input type="text" class="form-control mb-3" id="imageThreadId" placeholder="Thread ID người nhận">
                            
                            <label class="form-label fw-medium" id="imagePhoneLabel" style="display: none;">Số điện thoại</label>
                            <input type="text" class="form-control mb-3" id="imagePhone" placeholder="Số điện thoại người nhận" style="display: none;">
                            
                            <label class="form-label fw-medium">URL hình ảnh</label>
                            <input type="text" class="form-control" id="imagePath" placeholder="Nhập URL hình ảnh">
                        </div>
                        <button class="btn btn-info text-white" onclick="sendImageUnified()">
                            <i class="fas fa-paper-plane me-2"></i>Gửi ảnh
                        </button>
                        <div id="sendImageResult" class="result-area" style="display: none;"></div>
                    </div>
                </div>
            </div>

            <!-- Tab Quản lý tài khoản -->
            <div class="tab-pane fade" id="accounts" role="tabpanel">
                <div class="card">
                    <div class="card-header bg-warning">
                        <div class="header-icon">
                            <i class="fas fa-users-cog"></i>
                        </div>
                        <h5>Danh sách tài khoản</h5>
                    </div>
                    <div class="card-body">
                        <button class="btn btn-warning mb-3" onclick="loadAccounts()">
                            <i class="fas fa-sync-alt me-2"></i>Làm mới danh sách
                        </button>
                        <div id="accountsList" class="mt-3"></div>
                    </div>
                </div>
            </div>

            <!-- Tab Test API -->
            <div class="tab-pane fade" id="apitest" role="tabpanel">
                <div class="card">
                    <div class="card-header bg-purple">
                        <div class="header-icon">
                            <i class="fas fa-code"></i>
                        </div>
                        <h5>Test API tùy chỉnh</h5>
                    </div>
                    <div class="card-body">
                        <div class="row mb-3">
                            <div class="col-md-3">
                                <label class="form-label fw-medium">Phương thức</label>
                                <select class="form-select" id="apiMethod">
                                    <option value="GET">GET</option>
                                    <option value="POST">POST</option>
                                    <option value="DELETE">DELETE</option>
                                </select>
                            </div>
                            <div class="col-md-9">
                                <label class="form-label fw-medium">API Endpoint</label>
                                <select class="form-select" id="apiEndpoint" onchange="updateRequestBody(); document.getElementById('apiMethod').value = 'POST';">
                                    <option value="">Chọn API Endpoint</option>
                                    <!-- Friends Management -->
                                    <optgroup label="Friend Management">
                                        <option value="/getAllFriends">Lấy tất cả bạn bè (/getAllFriends)</option>
                                        <option value="/findUser">Tìm người dùng (/findUser)</option>
                                        <option value="/getUserInfo">Lấy thông tin người dùng (/getUserInfo)</option>
                                        <option value="/sendFriendRequest">Gửi lời mời kết bạn (/sendFriendRequest)</option>
                                        <option value="/acceptFriendRequest">Chấp nhận lời mời kết bạn (/acceptFriendRequest)</option>
                                        <option value="/blockUser">Chặn người dùng (/blockUser)</option>
                                        <option value="/unblockUser">Bỏ chặn người dùng (/unblockUser)</option>
                                        <option value="/changeFriendAlias">Đổi biệt danh bạn bè (/changeFriendAlias)</option>
                                    </optgroup>

                                    <!-- Group Management -->
                                    <optgroup label="Group Management">
                                        <option value="/createGroup">Tạo nhóm mới (/createGroup)</option>
                                        <option value="/getAllGroups">Lấy tất cả nhóm (/getAllGroups)</option>
                                        <option value="/getGroupInfo">Lấy thông tin nhóm (/getGroupInfo)</option>
                                        <option value="/addUserToGroup">Thêm thành viên vào nhóm (/addUserToGroup)</option>
                                        <option value="/removeUserFromGroup">Xóa thành viên khỏi nhóm (/removeUserFromGroup)</option>
                                        <option value="/changeGroupName">Đổi tên nhóm (/changeGroupName)</option>
                                        <option value="/changeGroupAvatar">Đổi ảnh nhóm (/changeGroupAvatar)</option>
                                    </optgroup>

                                    <!-- Messages and Media -->
                                    <optgroup label="Messages & Media">
                                        <option value="/sendmessage">Gửi tin nhắn văn bản (/sendmessage)</option>
                                        <option value="/sendMessageByPhoneNumber">Gửi tin nhắn qua SĐT (/sendMessageByPhoneNumber)</option>
                                        <option value="/sendImageToUser">Gửi ảnh cho người dùng (/sendImageToUser)</option>
                                        <option value="/sendImageByPhoneNumber">Gửi ảnh qua SĐT (/sendImageByPhoneNumber)</option>
                                        <option value="/sendImagesToUser">Gửi nhiều ảnh cho người dùng (/sendImagesToUser)</option>
                                        <option value="/sendImageToGroup">Gửi ảnh vào nhóm (/sendImageToGroup)</option>
                                        <option value="/sendImagesToGroup">Gửi nhiều ảnh vào nhóm (/sendImagesToGroup)</option>
                                    </optgroup>
                                </select>
                            </div>
                        </div>
                        <div class="mb-3">
                            <label class="form-label fw-medium">Request Body (JSON)</label>
                            <textarea class="form-control font-monospace" id="apiBody" rows="8" placeholder="{ ... }"></textarea>
                        </div>
                        <button class="btn btn-primary" onclick="testAPI()">
                            <i class="fas fa-paper-plane me-2"></i>Gửi request
                        </button>
                        <div id="apiTestResult" class="mt-3">
                            <pre class="json"></pre>
                        </div>
                    </div>
                </div>
            </div>

            <!-- API Templates (hidden) -->
            <div class="endpoint-template" id="template-findUser">
{
    "ownId": "your_account_id",
    "phone": "0912345678"
}</div>

            <div class="endpoint-template" id="template-getUserInfo">
{
    "ownId": "your_account_id",
    "userId": "user_id"
}</div>

            <div class="endpoint-template" id="template-sendFriendRequest">
{
    "ownId": "your_account_id",
    "userId": "user_id_to_add"
}</div>

            <div class="endpoint-template" id="template-sendmessage">
{
    "ownId": "your_account_id",
    "threadId": "thread_id",
    "message": "Hello, this is a test message",
    "type": "User"
}</div>

            <div class="endpoint-template" id="template-sendMessageByPhoneNumber">
{
    "ownId": "your_account_id",
    "phone": "0912345678",
    "message": "Hello, this is a test message"
}</div>

            <div class="endpoint-template" id="template-createGroup">
{
    "ownId": "your_account_id",
    "name": "Group Name",
    "members": ["user_id_1", "user_id_2"]
}</div>

            <div class="endpoint-template" id="template-getGroupInfo">
{
    "ownId": "your_account_id",
    "groupId": "group_id"
}</div>

            <div class="endpoint-template" id="template-addUserToGroup">
{
    "ownId": "your_account_id",
    "groupId": "group_id",
    "memberId": "user_id_to_add"
}</div>

            <div class="endpoint-template" id="template-removeUserFromGroup">
{
    "ownId": "your_account_id",
    "groupId": "group_id",
    "memberId": "user_id_to_remove"
}</div>

            <div class="endpoint-template" id="template-sendImageToUser">
{
    "ownId": "your_account_id",
    "threadId": "thread_id",
    "imagePath": "url_to_image"
}</div>

            <div class="endpoint-template" id="template-sendImageByPhoneNumber">
{
    "ownId": "your_account_id",
    "phone": "0912345678",
    "imagePath": "url_to_image"
}</div>

            <div class="endpoint-template" id="template-sendImagesToUser">
{
    "ownId": "your_account_id",
    "threadId": "thread_id",
    "imagePaths": ["url_to_image1", "url_to_image2"]
}</div>

            <div class="endpoint-template" id="template-sendImageToGroup">
{
    "ownId": "your_account_id",
    "threadId": "group_id",
    "imagePath": "url_to_image"
}</div>

            <div class="endpoint-template" id="template-sendImagesToGroup">
{
    "ownId": "your_account_id",
    "threadId": "group_id",
    "imagePaths": ["url_to_image1", "url_to_image2"]
}</div>

            <div class="endpoint-template" id="template-acceptFriendRequest">
{
    "ownId": "your_account_id",
    "userId": "user_id_to_accept"
}</div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <p>Zalo API Dashboard &copy; 2023 | Powered by <a href="#">Zalo Open API</a></p>
            <p class="mb-0">
                <a href="#" class="mx-2">Terms of Service</a>
                <a href="#" class="mx-2">Privacy Policy</a>
                <a href="#" class="mx-2">Documentation</a>
            </p>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="/js/dashboard.js"></script>
    <script>
        // Custom handling of result areas - show them only when there's content
        document.addEventListener('DOMContentLoaded', function() {
            const resultAreas = document.querySelectorAll('.result-area');
            
            // Function to check if a result area has content
            function checkResultContent(element) {
                if (element.innerHTML.trim() !== '') {
                    element.style.display = 'block';
                } else {
                    element.style.display = 'none';
                }
            }
            
            // Setup mutation observers for all result areas
            resultAreas.forEach(area => {
                const observer = new MutationObserver(() => checkResultContent(area));
                observer.observe(area, { childList: true, subtree: true, characterData: true });
                
                // Initial check
                checkResultContent(area);
            });
        });
    </script>
</body>
</html>